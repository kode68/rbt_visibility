{"ast":null,"code":"// src/index.jsx\nimport React from\"react\";import ReactDOM from\"react-dom/client\";import{BrowserRouter,Routes,Route,Navigate}from\"react-router-dom\";import App from\"./App\";import ProtectedRoute from\"./components/ProtectedRoute\";import Login from\"./pages/Login\";// --- Simple loading + error UI ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LoadingScreen(){return/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",padding:\"2rem\"},children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})});}class ErrorBoundary extends React.Component{constructor(props){super(props);this.state={hasError:false};}static getDerivedStateFromError(){return{hasError:true};}componentDidCatch(error,info){console.error(\"[App Error]\",error,info);}render(){if(this.state.hasError){return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",padding:\"2rem\",color:\"crimson\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Something went wrong.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please refresh the page.\"})]});}return this.props.children;}}// Minimal 403 page\nfunction Forbidden(){return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",padding:\"2rem\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"403 \\u2014 Not allowed\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You don\\u2019t have permission to view this page.\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"Go Home\"})]});}function AppRoutes(){// ProtectedRoute already shows a loading state via react-firebase-hooks\nreturn/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(App,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/403\",element:/*#__PURE__*/_jsx(Forbidden,{})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]});}const root=ReactDOM.createRoot(document.getElementById(\"root\"));root.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(AppRoutes,{})})})}));","map":{"version":3,"names":["React","ReactDOM","BrowserRouter","Routes","Route","Navigate","App","ProtectedRoute","Login","jsx","_jsx","jsxs","_jsxs","LoadingScreen","style","textAlign","padding","children","ErrorBoundary","Component","constructor","props","state","hasError","getDerivedStateFromError","componentDidCatch","error","info","console","render","color","Forbidden","href","AppRoutes","path","element","to","replace","root","createRoot","document","getElementById","StrictMode"],"sources":["C:/Users/mis/rbt-dashboard/src/index.js"],"sourcesContent":["// src/index.jsx\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport { BrowserRouter, Routes, Route, Navigate } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport ProtectedRoute from \"./components/ProtectedRoute\";\r\nimport Login from \"./pages/Login\";\r\n\r\n// --- Simple loading + error UI ---\r\nfunction LoadingScreen() {\r\n    return (\r\n        <div style={{ textAlign: \"center\", padding: \"2rem\" }}>\r\n            <p>Loading...</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { hasError: false };\r\n    }\r\n    static getDerivedStateFromError() {\r\n        return { hasError: true };\r\n    }\r\n    componentDidCatch(error, info) {\r\n        console.error(\"[App Error]\", error, info);\r\n    }\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return (\r\n                <div style={{ textAlign: \"center\", padding: \"2rem\", color: \"crimson\" }}>\r\n                    <h2>Something went wrong.</h2>\r\n                    <p>Please refresh the page.</p>\r\n                </div>\r\n            );\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\n// Minimal 403 page\r\nfunction Forbidden() {\r\n    return (\r\n        <div style={{ textAlign: \"center\", padding: \"2rem\" }}>\r\n            <h2>403 — Not allowed</h2>\r\n            <p>You don’t have permission to view this page.</p>\r\n            <a href=\"/\">Go Home</a>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction AppRoutes() {\r\n    // ProtectedRoute already shows a loading state via react-firebase-hooks\r\n    return (\r\n        <Routes>\r\n            {/* Public */}\r\n            <Route path=\"/login\" element={<Login />} />\r\n\r\n            {/* Protected: your main app */}\r\n            <Route\r\n                path=\"/*\"\r\n                element={\r\n                    <ProtectedRoute>\r\n                        <App />\r\n                    </ProtectedRoute>\r\n                }\r\n            />\r\n\r\n            {/* Forbidden + fallback */}\r\n            <Route path=\"/403\" element={<Forbidden />} />\r\n            <Route path=\"*\" element={<Navigate to=\"/login\" replace />} />\r\n        </Routes>\r\n    );\r\n}\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\nroot.render(\r\n    <React.StrictMode>\r\n        <ErrorBoundary>\r\n            <BrowserRouter>\r\n                <AppRoutes />\r\n            </BrowserRouter>\r\n        </ErrorBoundary>\r\n    </React.StrictMode>\r\n);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}