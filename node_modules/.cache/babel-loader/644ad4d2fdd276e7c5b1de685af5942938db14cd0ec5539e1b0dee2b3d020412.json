{"ast":null,"code":"import * as React from 'react';\nimport { getGridCellElement, getGridColumnHeaderElement, getGridRowElement } from \"../../../utils/domUtils.js\";\nimport { useGridApiMethod } from \"../../utils/useGridApiMethod.js\";\nimport { gridFocusCellSelector, gridTabIndexCellSelector } from \"../focus/gridFocusStateSelector.js\";\nimport { gridListColumnSelector } from \"../listView/gridListViewSelectors.js\";\nimport { gridRowNodeSelector } from \"./gridRowsSelector.js\";\nimport { getRowValue as getRowValueFn } from \"./gridRowsUtils.js\";\nexport class MissingRowIdError extends Error {}\n\n/**\n * @requires useGridColumns (method)\n * @requires useGridRows (method)\n * @requires useGridFocus (state)\n * @requires useGridEditing (method)\n * TODO: Impossible priority - useGridEditing also needs to be after useGridParamsApi\n * TODO: Impossible priority - useGridFocus also needs to be after useGridParamsApi\n */\nexport function useGridParamsApi(apiRef, props) {\n  var _props$listViewColumn2;\n  const getColumnHeaderParams = React.useCallback(field => ({\n    field,\n    colDef: apiRef.current.getColumn(field)\n  }), [apiRef]);\n  const getRowParams = React.useCallback(id => {\n    const row = apiRef.current.getRow(id);\n    if (!row) {\n      throw new MissingRowIdError(\"No row with id #\".concat(id, \" found\"));\n    }\n    const params = {\n      id,\n      columns: apiRef.current.getAllColumns(),\n      row\n    };\n    return params;\n  }, [apiRef]);\n  const getCellParamsForRow = React.useCallback((id, field, row, _ref) => {\n    let {\n      cellMode,\n      colDef,\n      hasFocus,\n      rowNode,\n      tabIndex\n    } = _ref;\n    const rawValue = row[field];\n    const value = colDef !== null && colDef !== void 0 && colDef.valueGetter ? colDef.valueGetter(rawValue, row, colDef, apiRef) : rawValue;\n    const params = {\n      id,\n      field,\n      row,\n      rowNode,\n      colDef,\n      cellMode,\n      hasFocus,\n      tabIndex,\n      value,\n      formattedValue: value,\n      isEditable: false,\n      api: apiRef.current\n    };\n    if (colDef && colDef.valueFormatter) {\n      params.formattedValue = colDef.valueFormatter(value, row, colDef, apiRef);\n    }\n    params.isEditable = colDef && apiRef.current.isCellEditable(params);\n    return params;\n  }, [apiRef]);\n  const getCellParams = React.useCallback((id, field) => {\n    var _props$listViewColumn;\n    const row = apiRef.current.getRow(id);\n    const rowNode = gridRowNodeSelector(apiRef, id);\n    if (!row || !rowNode) {\n      throw new MissingRowIdError(\"No row with id #\".concat(id, \" found\"));\n    }\n    const cellFocus = gridFocusCellSelector(apiRef);\n    const cellTabIndex = gridTabIndexCellSelector(apiRef);\n    const cellMode = apiRef.current.getCellMode(id, field);\n    return apiRef.current.getCellParamsForRow(id, field, row, {\n      colDef: props.listView && ((_props$listViewColumn = props.listViewColumn) === null || _props$listViewColumn === void 0 ? void 0 : _props$listViewColumn.field) === field ? gridListColumnSelector(apiRef) : apiRef.current.getColumn(field),\n      rowNode,\n      hasFocus: cellFocus !== null && cellFocus.field === field && cellFocus.id === id,\n      tabIndex: cellTabIndex && cellTabIndex.field === field && cellTabIndex.id === id ? 0 : -1,\n      cellMode\n    });\n  }, [apiRef, props.listView, (_props$listViewColumn2 = props.listViewColumn) === null || _props$listViewColumn2 === void 0 ? void 0 : _props$listViewColumn2.field]);\n  const getCellValue = React.useCallback((id, field) => {\n    const colDef = apiRef.current.getColumn(field);\n    const row = apiRef.current.getRow(id);\n    if (!row) {\n      throw new MissingRowIdError(\"No row with id #\".concat(id, \" found\"));\n    }\n    if (!colDef || !colDef.valueGetter) {\n      return row[field];\n    }\n    return colDef.valueGetter(row[colDef.field], row, colDef, apiRef);\n  }, [apiRef]);\n  const getRowValue = React.useCallback((row, colDef) => getRowValueFn(row, colDef, apiRef), [apiRef]);\n  const getRowFormattedValue = React.useCallback((row, colDef) => {\n    const value = getRowValue(row, colDef);\n    if (!colDef || !colDef.valueFormatter) {\n      return value;\n    }\n    return colDef.valueFormatter(value, row, colDef, apiRef);\n  }, [apiRef, getRowValue]);\n  const getColumnHeaderElement = React.useCallback(field => {\n    if (!apiRef.current.rootElementRef.current) {\n      return null;\n    }\n    return getGridColumnHeaderElement(apiRef.current.rootElementRef.current, field);\n  }, [apiRef]);\n  const getRowElement = React.useCallback(id => {\n    if (!apiRef.current.rootElementRef.current) {\n      return null;\n    }\n    return getGridRowElement(apiRef.current.rootElementRef.current, id);\n  }, [apiRef]);\n  const getCellElement = React.useCallback((id, field) => {\n    if (!apiRef.current.rootElementRef.current) {\n      return null;\n    }\n    return getGridCellElement(apiRef.current.rootElementRef.current, {\n      id,\n      field\n    });\n  }, [apiRef]);\n  const paramsApi = {\n    getCellValue,\n    getCellParams,\n    getCellElement,\n    getRowValue,\n    getRowFormattedValue,\n    getRowParams,\n    getRowElement,\n    getColumnHeaderParams,\n    getColumnHeaderElement\n  };\n  const paramsPrivateApi = {\n    getCellParamsForRow\n  };\n  useGridApiMethod(apiRef, paramsApi, 'public');\n  useGridApiMethod(apiRef, paramsPrivateApi, 'private');\n}","map":{"version":3,"names":["React","getGridCellElement","getGridColumnHeaderElement","getGridRowElement","useGridApiMethod","gridFocusCellSelector","gridTabIndexCellSelector","gridListColumnSelector","gridRowNodeSelector","getRowValue","getRowValueFn","MissingRowIdError","Error","useGridParamsApi","apiRef","props","_props$listViewColumn2","getColumnHeaderParams","useCallback","field","colDef","current","getColumn","getRowParams","id","row","getRow","concat","params","columns","getAllColumns","getCellParamsForRow","_ref","cellMode","hasFocus","rowNode","tabIndex","rawValue","value","valueGetter","formattedValue","isEditable","api","valueFormatter","isCellEditable","getCellParams","_props$listViewColumn","cellFocus","cellTabIndex","getCellMode","listView","listViewColumn","getCellValue","getRowFormattedValue","getColumnHeaderElement","rootElementRef","getRowElement","getCellElement","paramsApi","paramsPrivateApi"],"sources":["C:/Users/mis/rbt-dashboard/node_modules/@mui/x-data-grid/esm/hooks/features/rows/useGridParamsApi.js"],"sourcesContent":["import * as React from 'react';\nimport { getGridCellElement, getGridColumnHeaderElement, getGridRowElement } from \"../../../utils/domUtils.js\";\nimport { useGridApiMethod } from \"../../utils/useGridApiMethod.js\";\nimport { gridFocusCellSelector, gridTabIndexCellSelector } from \"../focus/gridFocusStateSelector.js\";\nimport { gridListColumnSelector } from \"../listView/gridListViewSelectors.js\";\nimport { gridRowNodeSelector } from \"./gridRowsSelector.js\";\nimport { getRowValue as getRowValueFn } from \"./gridRowsUtils.js\";\nexport class MissingRowIdError extends Error {}\n\n/**\n * @requires useGridColumns (method)\n * @requires useGridRows (method)\n * @requires useGridFocus (state)\n * @requires useGridEditing (method)\n * TODO: Impossible priority - useGridEditing also needs to be after useGridParamsApi\n * TODO: Impossible priority - useGridFocus also needs to be after useGridParamsApi\n */\nexport function useGridParamsApi(apiRef, props) {\n  const getColumnHeaderParams = React.useCallback(field => ({\n    field,\n    colDef: apiRef.current.getColumn(field)\n  }), [apiRef]);\n  const getRowParams = React.useCallback(id => {\n    const row = apiRef.current.getRow(id);\n    if (!row) {\n      throw new MissingRowIdError(`No row with id #${id} found`);\n    }\n    const params = {\n      id,\n      columns: apiRef.current.getAllColumns(),\n      row\n    };\n    return params;\n  }, [apiRef]);\n  const getCellParamsForRow = React.useCallback((id, field, row, {\n    cellMode,\n    colDef,\n    hasFocus,\n    rowNode,\n    tabIndex\n  }) => {\n    const rawValue = row[field];\n    const value = colDef?.valueGetter ? colDef.valueGetter(rawValue, row, colDef, apiRef) : rawValue;\n    const params = {\n      id,\n      field,\n      row,\n      rowNode,\n      colDef,\n      cellMode,\n      hasFocus,\n      tabIndex,\n      value,\n      formattedValue: value,\n      isEditable: false,\n      api: apiRef.current\n    };\n    if (colDef && colDef.valueFormatter) {\n      params.formattedValue = colDef.valueFormatter(value, row, colDef, apiRef);\n    }\n    params.isEditable = colDef && apiRef.current.isCellEditable(params);\n    return params;\n  }, [apiRef]);\n  const getCellParams = React.useCallback((id, field) => {\n    const row = apiRef.current.getRow(id);\n    const rowNode = gridRowNodeSelector(apiRef, id);\n    if (!row || !rowNode) {\n      throw new MissingRowIdError(`No row with id #${id} found`);\n    }\n    const cellFocus = gridFocusCellSelector(apiRef);\n    const cellTabIndex = gridTabIndexCellSelector(apiRef);\n    const cellMode = apiRef.current.getCellMode(id, field);\n    return apiRef.current.getCellParamsForRow(id, field, row, {\n      colDef: props.listView && props.listViewColumn?.field === field ? gridListColumnSelector(apiRef) : apiRef.current.getColumn(field),\n      rowNode,\n      hasFocus: cellFocus !== null && cellFocus.field === field && cellFocus.id === id,\n      tabIndex: cellTabIndex && cellTabIndex.field === field && cellTabIndex.id === id ? 0 : -1,\n      cellMode\n    });\n  }, [apiRef, props.listView, props.listViewColumn?.field]);\n  const getCellValue = React.useCallback((id, field) => {\n    const colDef = apiRef.current.getColumn(field);\n    const row = apiRef.current.getRow(id);\n    if (!row) {\n      throw new MissingRowIdError(`No row with id #${id} found`);\n    }\n    if (!colDef || !colDef.valueGetter) {\n      return row[field];\n    }\n    return colDef.valueGetter(row[colDef.field], row, colDef, apiRef);\n  }, [apiRef]);\n  const getRowValue = React.useCallback((row, colDef) => getRowValueFn(row, colDef, apiRef), [apiRef]);\n  const getRowFormattedValue = React.useCallback((row, colDef) => {\n    const value = getRowValue(row, colDef);\n    if (!colDef || !colDef.valueFormatter) {\n      return value;\n    }\n    return colDef.valueFormatter(value, row, colDef, apiRef);\n  }, [apiRef, getRowValue]);\n  const getColumnHeaderElement = React.useCallback(field => {\n    if (!apiRef.current.rootElementRef.current) {\n      return null;\n    }\n    return getGridColumnHeaderElement(apiRef.current.rootElementRef.current, field);\n  }, [apiRef]);\n  const getRowElement = React.useCallback(id => {\n    if (!apiRef.current.rootElementRef.current) {\n      return null;\n    }\n    return getGridRowElement(apiRef.current.rootElementRef.current, id);\n  }, [apiRef]);\n  const getCellElement = React.useCallback((id, field) => {\n    if (!apiRef.current.rootElementRef.current) {\n      return null;\n    }\n    return getGridCellElement(apiRef.current.rootElementRef.current, {\n      id,\n      field\n    });\n  }, [apiRef]);\n  const paramsApi = {\n    getCellValue,\n    getCellParams,\n    getCellElement,\n    getRowValue,\n    getRowFormattedValue,\n    getRowParams,\n    getRowElement,\n    getColumnHeaderParams,\n    getColumnHeaderElement\n  };\n  const paramsPrivateApi = {\n    getCellParamsForRow\n  };\n  useGridApiMethod(apiRef, paramsApi, 'public');\n  useGridApiMethod(apiRef, paramsPrivateApi, 'private');\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}