{"ast":null,"code":"import React from\"react\";import{Routes,Route,useNavigate,Navigate}from\"react-router-dom\";import{Toaster}from\"react-hot-toast\";import{useAuthState}from\"react-firebase-hooks/auth\";import Dashboard from\"./pages/Dashboard\";import Logs from\"./pages/Logs\";import{auth}from\"./firebase\";import ManageUsers from\"./pages/ManageUsers\";import OverallDashboard from\"./pages/OverallDashboard\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function App(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/logs\",element:/*#__PURE__*/_jsx(AdminOnly,{children:/*#__PURE__*/_jsx(Logs,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/manage-users\",element:/*#__PURE__*/_jsx(SuperAdminOnly,{children:/*#__PURE__*/_jsx(ManageUsers,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/overall-dashboard\",element:/*#__PURE__*/_jsx(SuperAdminOnly,{children:/*#__PURE__*/_jsx(OverallDashboard,{})})})]}),/*#__PURE__*/_jsx(Toaster,{position:\"top-center\"})]});}function Welcome(){const navigate=useNavigate();return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-xl rounded-2xl p-8 max-w-md w-full text-center animate-fade-in\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://brightbots.in/img/Brightbots-logo.png\",alt:\"BrightBots Logo\",className:\"h-20 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4 text-gray-800\",children:\"Welcome to BrightBots RBT Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Manage all your site robots in one place.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/login\"),className:\"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-lg transition duration-200\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4 text-sm text-gray-500\",children:[\"Don't have an account?\",\" \",/*#__PURE__*/_jsx(\"span\",{onClick:()=>navigate(\"/signup\"),className:\"text-blue-600 cursor-pointer hover:underline\",children:\"Sign up\"})]})]})});}// âœ… Admin-only wrapper\nfunction AdminOnly(_ref){var _user$email;let{children}=_ref;const[user,loading]=useAuthState(auth);if(loading)return null;const isAdmin=user===null||user===void 0?void 0:(_user$email=user.email)===null||_user$email===void 0?void 0:_user$email.endsWith(\"@brightbots.in\");if(!user||!user.emailVerified||!isAdmin){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return children;}// ðŸ”’ Super-admin-only wrapper\nfunction SuperAdminOnly(_ref2){let{children}=_ref2;const[user,loading]=useAuthState(auth);if(loading)return null;const isSuperAdmin=(user===null||user===void 0?void 0:user.email)===\"dev@brightbots.in\";if(!user||!user.emailVerified||!isSuperAdmin){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return children;}","map":{"version":3,"names":["React","Routes","Route","useNavigate","Navigate","Toaster","useAuthState","Dashboard","Logs","auth","ManageUsers","OverallDashboard","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","children","path","element","to","replace","AdminOnly","SuperAdminOnly","position","Welcome","navigate","className","src","alt","onClick","_ref","_user$email","user","loading","isAdmin","email","endsWith","emailVerified","_ref2","isSuperAdmin"],"sources":["C:/Users/mis/rbt-dashboard/src/App.js"],"sourcesContent":["import React from \"react\";\r\nimport { Routes, Route, useNavigate, Navigate } from \"react-router-dom\";\r\nimport { Toaster } from \"react-hot-toast\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport Dashboard from \"./pages/Dashboard\";\r\nimport Logs from \"./pages/Logs\";\r\nimport { auth } from \"./firebase\";\r\nimport ManageUsers from \"./pages/ManageUsers\";\r\nimport OverallDashboard from \"./pages/OverallDashboard\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <>\r\n      <Routes>\r\n        {/* App root â†’ dashboard (public routes handled in index.jsx) */}\r\n        <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\r\n        <Route path=\"/dashboard\" element={<Dashboard />} />\r\n\r\n        {/* Admin-only */}\r\n        <Route\r\n          path=\"/logs\"\r\n          element={\r\n            <AdminOnly>\r\n              <Logs />\r\n            </AdminOnly>\r\n          }\r\n        />\r\n\r\n        {/* Super-admin only */}\r\n        <Route\r\n          path=\"/manage-users\"\r\n          element={\r\n            <SuperAdminOnly>\r\n              <ManageUsers />\r\n            </SuperAdminOnly>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/overall-dashboard\"\r\n          element={\r\n            <SuperAdminOnly>\r\n              <OverallDashboard />\r\n            </SuperAdminOnly>\r\n          }\r\n        />\r\n      </Routes>\r\n      <Toaster position=\"top-center\" />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Welcome() {\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white shadow-xl rounded-2xl p-8 max-w-md w-full text-center animate-fade-in\">\r\n        <img\r\n          src=\"https://brightbots.in/img/Brightbots-logo.png\"\r\n          alt=\"BrightBots Logo\"\r\n          className=\"h-20 mx-auto mb-4\"\r\n        />\r\n        <h1 className=\"text-2xl font-bold mb-4 text-gray-800\">\r\n          Welcome to BrightBots RBT Dashboard\r\n        </h1>\r\n        <p className=\"text-gray-600 mb-6\">Manage all your site robots in one place.</p>\r\n        <button\r\n          onClick={() => navigate(\"/login\")}\r\n          className=\"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-lg transition duration-200\"\r\n        >\r\n          Login\r\n        </button>\r\n        <p className=\"mt-4 text-sm text-gray-500\">\r\n          Don&apos;t have an account?{\" \"}\r\n          <span\r\n            onClick={() => navigate(\"/signup\")}\r\n            className=\"text-blue-600 cursor-pointer hover:underline\"\r\n          >\r\n            Sign up\r\n          </span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// âœ… Admin-only wrapper\r\nfunction AdminOnly({ children }) {\r\n  const [user, loading] = useAuthState(auth);\r\n  if (loading) return null;\r\n\r\n  const isAdmin = user?.email?.endsWith(\"@brightbots.in\");\r\n  if (!user || !user.emailVerified || !isAdmin) {\r\n    return <Navigate to=\"/dashboard\" replace />;\r\n  }\r\n  return children;\r\n}\r\n\r\n// ðŸ”’ Super-admin-only wrapper\r\nfunction SuperAdminOnly({ children }) {\r\n  const [user, loading] = useAuthState(auth);\r\n  if (loading) return null;\r\n  const isSuperAdmin = user?.email === \"dev@brightbots.in\";\r\n  if (!user || !user.emailVerified || !isSuperAdmin) {\r\n    return <Navigate to=\"/dashboard\" replace />;\r\n  }\r\n  return children;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}