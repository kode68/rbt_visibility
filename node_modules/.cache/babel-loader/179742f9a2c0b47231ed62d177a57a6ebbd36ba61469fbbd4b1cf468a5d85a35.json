{"ast":null,"code":"import _objectSpread from\"C:/Users/mis/rbt-dashboard/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{auth,db}from\"../firebase\";import{useNavigate}from\"react-router-dom\";import{collection,doc,setDoc,deleteDoc,getDoc,updateDoc,serverTimestamp,onSnapshot,getDocs}from\"firebase/firestore\";import toast from\"react-hot-toast\";import RBTDataGrid from\"./RBTDataGrid\";import PartIssueSection from\"../components/PartIssueSection\";import{FormControl,Select,MenuItem,Checkbox,ListItemText}from\"@mui/material\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const defaultPartIssues={\"ANTENA CABLE\":{dispatch_date:\"\",delivery_date:\"\"},\"ANTENA PORT\":{dispatch_date:\"\",delivery_date:\"\"},\"BATTERY\":{dispatch_date:\"\",delivery_date:\"\"},\"BATTERY BOX\":{dispatch_date:\"\",delivery_date:\"\"},\"BATTTERY\":{dispatch_date:\"\",delivery_date:\"\"},\"BRUSH MOTOR\":{dispatch_date:\"\",delivery_date:\"\"},\"CHARGE CONTROLLER\":{dispatch_date:\"\",delivery_date:\"\"},\"HOME SENSOR\":{dispatch_date:\"\",delivery_date:\"\"},\"LT 1\":{dispatch_date:\"\",delivery_date:\"\"},\"LT 2\":{dispatch_date:\"\",delivery_date:\"\"},\"PCB BOX\":{dispatch_date:\"\",delivery_date:\"\"},\"PULSE COUNT\":{dispatch_date:\"\",delivery_date:\"\"},\"PV MODULE\":{dispatch_date:\"\",delivery_date:\"\"},\"REPEATER PCB\":{dispatch_date:\"\",delivery_date:\"\"},\"RTC\":{dispatch_date:\"\",delivery_date:\"\"},\"SS PIPE\":{dispatch_date:\"\",delivery_date:\"\"},\"SSC\":{dispatch_date:\"\",delivery_date:\"\"},\"STEPPER DRIVE\":{dispatch_date:\"\",delivery_date:\"\"},\"STEPPER MOTOR\":{dispatch_date:\"\",delivery_date:\"\"},\"TC BELT\":{dispatch_date:\"\",delivery_date:\"\"},\"TC Load Wheel\":{dispatch_date:\"\",delivery_date:\"\"},\"XBEE\":{dispatch_date:\"\",delivery_date:\"\"},\"GUIDE WHEEL 1\":{dispatch_date:\"\",delivery_date:\"\"},\"GUIDE WHEEL 2\":{dispatch_date:\"\",delivery_date:\"\"},\"GUIDE WHEEL 3\":{dispatch_date:\"\",delivery_date:\"\"},\"GUIDE WHEEL 4\":{dispatch_date:\"\",delivery_date:\"\"},\"LIMIT SWITCH 1\":{dispatch_date:\"\",delivery_date:\"\"},\"LIMIT SWITCH 2\":{dispatch_date:\"\",delivery_date:\"\"},\"LOAD WHEEL 1\":{dispatch_date:\"\",delivery_date:\"\"},\"LOAD WHEEL 2\":{dispatch_date:\"\",delivery_date:\"\"},\"LOAD WHEEL 3\":{dispatch_date:\"\",delivery_date:\"\"},\"LOAD WHEEL 4\":{dispatch_date:\"\",delivery_date:\"\"},\"TC LOAD WHEEL\":{dispatch_date:\"\",delivery_date:\"\"}};export default function Dashboard(){var _currentUser$email;const[clients,setClients]=useState([]);const[sites,setSites]=useState([]);const[selectedClient,setSelectedClient]=useState(\"\");const[selectedSites,setSelectedSites]=useState([]);const[rbtList,setRbtList]=useState([]);const[loading,setLoading]=useState(false);const[currentUser,setCurrentUser]=useState(null);const[firstName,setFirstName]=useState(\"\");const[selectedRBT,setSelectedRBT]=useState(null);const[partIssues,setPartIssues]=useState({});const navigate=useNavigate();useEffect(()=>{const unsub=auth.onAuthStateChanged(async user=>{if(!user){navigate(\"/login\",{replace:true});}else{await user.reload();const refreshedUser=auth.currentUser;setCurrentUser(refreshedUser);const userRef=doc(db,\"users\",refreshedUser.uid);const userDoc=await getDoc(userRef);if(userDoc.exists()){const data=userDoc.data();setFirstName(data.firstName||\"\");if(data.emailVerified!==refreshedUser.emailVerified){await updateDoc(userRef,{emailVerified:refreshedUser.emailVerified});}if(!refreshedUser.emailVerified)navigate(\"/login\",{replace:true});}}});return unsub;},[navigate]);useEffect(()=>{const unsubClients=onSnapshot(collection(db,\"clients\"),snapshot=>{setClients(snapshot.docs.map(doc=>_objectSpread({id:doc.id},doc.data())));});return unsubClients;},[]);const handleClientChange=clientId=>{setSelectedClient(clientId);setSelectedSites([]);setRbtList([]);};useEffect(()=>{if(!selectedClient)return;const sitesRef=collection(db,\"clients/\".concat(selectedClient,\"/sites\"));const unsubSites=onSnapshot(sitesRef,sitesSnapshot=>{setSites(sitesSnapshot.docs.map(doc=>doc.id));});return unsubSites;},[selectedClient]);useEffect(()=>{if(!selectedClient||selectedSites.length===0)return;setLoading(true);setRbtList([]);const fetchRBTs=async()=>{try{const allRBTs=await Promise.all(selectedSites.map(async site=>{const rbtRef=collection(db,\"clients/\".concat(selectedClient,\"/sites/\").concat(site,\"/rbts\"));const snapshot=await getDocs(rbtRef);return snapshot.docs.map(docSnap=>_objectSpread({site,rbt_id:docSnap.id},docSnap.data()));}));setRbtList(allRBTs.flat());}catch(err){console.error(\"Error fetching RBTs:\",err);toast.error(\"Failed to fetch robots\");}finally{setLoading(false);}};fetchRBTs();},[selectedClient,JSON.stringify(selectedSites)]);const isAdmin=currentUser===null||currentUser===void 0?void 0:(_currentUser$email=currentUser.email)===null||_currentUser$email===void 0?void 0:_currentUser$email.endsWith(\"@brightbots.in\");const isSuperAdmin=(currentUser===null||currentUser===void 0?void 0:currentUser.email)===\"dev@brightbots.in\";const handleAddRBT=async()=>{if(!selectedClient||selectedSites.length===0)return toast.error(\"Select client & site first!\");try{const site=selectedSites[0];const siteRbts=rbtList.filter(r=>r.site===site);const nextId=siteRbts.length+1;const newRbtId=\"RBT\".concat(nextId);const rbtRef=doc(db,\"clients/\".concat(selectedClient,\"/sites/\").concat(site,\"/rbts\"),newRbtId);await setDoc(rbtRef,{breakdown_status:\"N/A\",running_status:\"Auto\",work:\"\",cleaner_did:\"\",tc_did:\"\",cl_pcb_model:\"\",tc_pcb_model:\"\",part_issues:defaultPartIssues,running_status_ageing:0,last_updated:serverTimestamp()});toast.success(\"RBT \".concat(newRbtId,\" added to \").concat(site));}catch(err){console.error(err);toast.error(\"Failed to add RBT\");}};const handleDeleteRBT=async(rbt_id,site)=>{if(!isSuperAdmin)return toast.error(\"Only Super Admin can delete RBTs\");if(!window.confirm(\"Delete \".concat(rbt_id,\"? This cannot be undone.\")))return;try{await deleteDoc(doc(db,\"clients/\".concat(selectedClient,\"/sites/\").concat(site,\"/rbts\"),rbt_id));setRbtList(prev=>prev.filter(rbt=>!(rbt.rbt_id===rbt_id&&rbt.site===site)));toast.success(\"\".concat(rbt_id,\" deleted\"));}catch(err){console.error(err);toast.error(\"Delete failed\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100 px-6 py-8 font-sans\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-10 border-b pb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://brightbots.in/img/Brightbots-logo.png\",className:\"h-12 drop-shadow-sm cursor-pointer\",alt:\"BrightBots Logo\",onClick:()=>navigate(\"/dashboard\")}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-extrabold text-blue-800 tracking-tight\",children:\"RBT Dashboard\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 items-center\",children:[firstName&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-700 font-semibold mr-2\",children:[\"Hi, \",firstName]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/overall-dashboard\"),className:\"bg-purple-600 hover:bg-purple-700 text-white font-semibold px-4 py-2 rounded-lg shadow-lg\",children:\"\\uD83D\\uDCCA View Overall Dashboard\"}),(isAdmin||isSuperAdmin)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/logs\"),className:\"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-4 py-2 rounded-lg shadow-lg\",children:\"\\uD83D\\uDCC4 View Logs\"}),isSuperAdmin&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/manage-users\"),className:\"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg shadow-lg\",children:\"\\uD83D\\uDC65 Manage Users\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>auth.signOut(),className:\"bg-red-500 hover:bg-red-600 text-white font-semibold px-5 py-2 rounded-lg shadow-lg\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8 flex gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-1\",children:\"Select Client:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedClient,onChange:e=>handleClientChange(e.target.value),className:\"border p-2 rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Client --\"}),clients.map(client=>/*#__PURE__*/_jsx(\"option\",{value:client.id,children:client.id},client.id))]})]}),selectedClient&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 mb-1\",children:\"Select Site(s):\"}),/*#__PURE__*/_jsx(FormControl,{size:\"small\",sx:{minWidth:200},children:/*#__PURE__*/_jsx(Select,{multiple:true,value:selectedSites,onChange:e=>{const{target:{value}}=e;setSelectedSites(typeof value===\"string\"?value.split(\",\"):value);},renderValue:selected=>selected.length>0?selected.join(\", \"):\"-- Select Sites --\",children:sites.map(site=>/*#__PURE__*/_jsxs(MenuItem,{value:site,children:[/*#__PURE__*/_jsx(Checkbox,{checked:selectedSites.includes(site)}),/*#__PURE__*/_jsx(ListItemText,{primary:site})]},site))})})]})]}),selectedClient&&selectedSites.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-800\",children:[\"Robots at \",/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-700\",children:selectedSites.join(\", \")})]}),isAdmin&&/*#__PURE__*/_jsx(\"button\",{onClick:handleAddRBT,className:\"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg shadow\",children:\"\\u2795 Add RBT\"})]}),loading?/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-500 animate-pulse font-medium\",children:\"Loading RBTs...\"}):rbtList.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 italic text-lg\",children:\"No robots found.\"}):/*#__PURE__*/_jsx(RBTDataGrid,{client:selectedClient,sites:selectedSites,rbts:rbtList,onDelete:handleDeleteRBT,onTriggerPartIssue:(rbtId,parts)=>{setSelectedRBT(rbtId);setPartIssues(parts||defaultPartIssues);}})]}),selectedRBT&&/*#__PURE__*/_jsx(PartIssueSection,{client:selectedClient,sites:selectedSites,rbtId:selectedRBT,rbt:rbtList.find(rbt=>rbt.rbt_id===selectedRBT)||{},onPartIssueChange:parts=>setPartIssues(parts)})]});}","map":{"version":3,"names":["React","useState","useEffect","auth","db","useNavigate","collection","doc","setDoc","deleteDoc","getDoc","updateDoc","serverTimestamp","onSnapshot","getDocs","toast","RBTDataGrid","PartIssueSection","FormControl","Select","MenuItem","Checkbox","ListItemText","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","defaultPartIssues","dispatch_date","delivery_date","Dashboard","_currentUser$email","clients","setClients","sites","setSites","selectedClient","setSelectedClient","selectedSites","setSelectedSites","rbtList","setRbtList","loading","setLoading","currentUser","setCurrentUser","firstName","setFirstName","selectedRBT","setSelectedRBT","partIssues","setPartIssues","navigate","unsub","onAuthStateChanged","user","replace","reload","refreshedUser","userRef","uid","userDoc","exists","data","emailVerified","unsubClients","snapshot","docs","map","_objectSpread","id","handleClientChange","clientId","sitesRef","concat","unsubSites","sitesSnapshot","length","fetchRBTs","allRBTs","Promise","all","site","rbtRef","docSnap","rbt_id","flat","err","console","error","JSON","stringify","isAdmin","email","endsWith","isSuperAdmin","handleAddRBT","siteRbts","filter","r","nextId","newRbtId","breakdown_status","running_status","work","cleaner_did","tc_did","cl_pcb_model","tc_pcb_model","part_issues","running_status_ageing","last_updated","success","handleDeleteRBT","window","confirm","prev","rbt","className","children","src","alt","onClick","signOut","value","onChange","e","target","client","size","sx","minWidth","multiple","split","renderValue","selected","join","checked","includes","primary","rbts","onDelete","onTriggerPartIssue","rbtId","parts","find","onPartIssueChange"],"sources":["C:/Users/mis/rbt-dashboard/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { auth, db } from \"../firebase\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  collection,\r\n  doc,\r\n  setDoc,\r\n  deleteDoc,\r\n  getDoc,\r\n  updateDoc,\r\n  serverTimestamp,\r\n  onSnapshot,\r\n  getDocs,\r\n} from \"firebase/firestore\";\r\nimport toast from \"react-hot-toast\";\r\nimport RBTDataGrid from \"./RBTDataGrid\";\r\nimport PartIssueSection from \"../components/PartIssueSection\";\r\nimport { FormControl, Select, MenuItem, Checkbox, ListItemText } from \"@mui/material\";\r\n\r\nconst defaultPartIssues = {\r\n  \"ANTENA CABLE\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"ANTENA PORT\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"BATTERY\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"BATTERY BOX\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"BATTTERY\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"BRUSH MOTOR\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"CHARGE CONTROLLER\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"HOME SENSOR\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"LT 1\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"LT 2\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"PCB BOX\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"PULSE COUNT\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"PV MODULE\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"REPEATER PCB\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"RTC\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"SS PIPE\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"SSC\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"STEPPER DRIVE\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"STEPPER MOTOR\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"TC BELT\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"TC Load Wheel\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"XBEE\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"GUIDE WHEEL 1\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"GUIDE WHEEL 2\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"GUIDE WHEEL 3\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"GUIDE WHEEL 4\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"LIMIT SWITCH 1\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"LIMIT SWITCH 2\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"LOAD WHEEL 1\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"LOAD WHEEL 2\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"LOAD WHEEL 3\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"LOAD WHEEL 4\": { dispatch_date: \"\", delivery_date: \"\" },\r\n  \"TC LOAD WHEEL\": { dispatch_date: \"\", delivery_date: \"\" }\r\n};\r\n\r\nexport default function Dashboard() {\r\n  const [clients, setClients] = useState([]);\r\n  const [sites, setSites] = useState([]);\r\n  const [selectedClient, setSelectedClient] = useState(\"\");\r\n  const [selectedSites, setSelectedSites] = useState([]);\r\n  const [rbtList, setRbtList] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [selectedRBT, setSelectedRBT] = useState(null);\r\n  const [partIssues, setPartIssues] = useState({});\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const unsub = auth.onAuthStateChanged(async (user) => {\r\n      if (!user) {\r\n        navigate(\"/login\", { replace: true });\r\n      } else {\r\n        await user.reload();\r\n        const refreshedUser = auth.currentUser;\r\n        setCurrentUser(refreshedUser);\r\n\r\n        const userRef = doc(db, \"users\", refreshedUser.uid);\r\n        const userDoc = await getDoc(userRef);\r\n\r\n        if (userDoc.exists()) {\r\n          const data = userDoc.data();\r\n          setFirstName(data.firstName || \"\");\r\n\r\n          if (data.emailVerified !== refreshedUser.emailVerified) {\r\n            await updateDoc(userRef, { emailVerified: refreshedUser.emailVerified });\r\n          }\r\n\r\n          if (!refreshedUser.emailVerified) navigate(\"/login\", { replace: true });\r\n        }\r\n      }\r\n    });\r\n    return unsub;\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    const unsubClients = onSnapshot(collection(db, \"clients\"), (snapshot) => {\r\n      setClients(snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() })));\r\n    });\r\n    return unsubClients;\r\n  }, []);\r\n\r\n  const handleClientChange = (clientId) => {\r\n    setSelectedClient(clientId);\r\n    setSelectedSites([]);\r\n    setRbtList([]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!selectedClient) return;\r\n    const sitesRef = collection(db, `clients/${selectedClient}/sites`);\r\n    const unsubSites = onSnapshot(sitesRef, (sitesSnapshot) => {\r\n      setSites(sitesSnapshot.docs.map((doc) => doc.id));\r\n    });\r\n    return unsubSites;\r\n  }, [selectedClient]);\r\n\r\n  useEffect(() => {\r\n    if (!selectedClient || selectedSites.length === 0) return;\r\n    setLoading(true);\r\n    setRbtList([]);\r\n    const fetchRBTs = async () => {\r\n      try {\r\n        const allRBTs = await Promise.all(\r\n          selectedSites.map(async (site) => {\r\n            const rbtRef = collection(db, `clients/${selectedClient}/sites/${site}/rbts`);\r\n            const snapshot = await getDocs(rbtRef);\r\n            return snapshot.docs.map((docSnap) => ({\r\n              site,\r\n              rbt_id: docSnap.id,\r\n              ...docSnap.data(),\r\n            }));\r\n          })\r\n        );\r\n        setRbtList(allRBTs.flat());\r\n      } catch (err) {\r\n        console.error(\"Error fetching RBTs:\", err);\r\n        toast.error(\"Failed to fetch robots\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchRBTs();\r\n  }, [selectedClient, JSON.stringify(selectedSites)]);\r\n\r\n  const isAdmin = currentUser?.email?.endsWith(\"@brightbots.in\");\r\n  const isSuperAdmin = currentUser?.email === \"dev@brightbots.in\";\r\n\r\n  const handleAddRBT = async () => {\r\n    if (!selectedClient || selectedSites.length === 0)\r\n      return toast.error(\"Select client & site first!\");\r\n    try {\r\n      const site = selectedSites[0];\r\n      const siteRbts = rbtList.filter((r) => r.site === site);\r\n      const nextId = siteRbts.length + 1;\r\n      const newRbtId = `RBT${nextId}`;\r\n      const rbtRef = doc(db, `clients/${selectedClient}/sites/${site}/rbts`, newRbtId);\r\n\r\n      await setDoc(rbtRef, {\r\n        breakdown_status: \"N/A\",\r\n        running_status: \"Auto\",\r\n        work: \"\",\r\n        cleaner_did: \"\",\r\n        tc_did: \"\",\r\n        cl_pcb_model: \"\",\r\n        tc_pcb_model: \"\",\r\n        part_issues: defaultPartIssues,\r\n        running_status_ageing: 0,\r\n        last_updated: serverTimestamp(),\r\n      });\r\n\r\n      toast.success(`RBT ${newRbtId} added to ${site}`);\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"Failed to add RBT\");\r\n    }\r\n  };\r\n\r\n  const handleDeleteRBT = async (rbt_id, site) => {\r\n    if (!isSuperAdmin) return toast.error(\"Only Super Admin can delete RBTs\");\r\n    if (!window.confirm(`Delete ${rbt_id}? This cannot be undone.`)) return;\r\n    try {\r\n      await deleteDoc(doc(db, `clients/${selectedClient}/sites/${site}/rbts`, rbt_id));\r\n      setRbtList((prev) => prev.filter((rbt) => !(rbt.rbt_id === rbt_id && rbt.site === site)));\r\n      toast.success(`${rbt_id} deleted`);\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"Delete failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-gray-100 px-6 py-8 font-sans\">\r\n      <div className=\"flex items-center justify-between mb-10 border-b pb-4\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <img\r\n            src=\"https://brightbots.in/img/Brightbots-logo.png\"\r\n            className=\"h-12 drop-shadow-sm cursor-pointer\"\r\n            alt=\"BrightBots Logo\"\r\n            onClick={() => navigate(\"/dashboard\")}\r\n          />\r\n          <h1 className=\"text-3xl font-extrabold text-blue-800 tracking-tight\">RBT Dashboard</h1>\r\n        </div>\r\n        <div className=\"flex gap-3 items-center\">\r\n          {firstName && <div className=\"text-gray-700 font-semibold mr-2\">Hi, {firstName}</div>}\r\n          <button\r\n            onClick={() => navigate(\"/overall-dashboard\")}\r\n            className=\"bg-purple-600 hover:bg-purple-700 text-white font-semibold px-4 py-2 rounded-lg shadow-lg\"\r\n          >\r\n            📊 View Overall Dashboard\r\n          </button>\r\n          {(isAdmin || isSuperAdmin) && (\r\n            <button\r\n              onClick={() => navigate(\"/logs\")}\r\n              className=\"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-4 py-2 rounded-lg shadow-lg\"\r\n            >\r\n              📄 View Logs\r\n            </button>\r\n          )}\r\n          {isSuperAdmin && (\r\n            <button\r\n              onClick={() => navigate(\"/manage-users\")}\r\n              className=\"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-lg shadow-lg\"\r\n            >\r\n              👥 Manage Users\r\n            </button>\r\n          )}\r\n          <button\r\n            onClick={() => auth.signOut()}\r\n            className=\"bg-red-500 hover:bg-red-600 text-white font-semibold px-5 py-2 rounded-lg shadow-lg\"\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mb-8 flex gap-4\">\r\n        <div>\r\n          <label className=\"block text-gray-700 mb-1\">Select Client:</label>\r\n          <select\r\n            value={selectedClient}\r\n            onChange={(e) => handleClientChange(e.target.value)}\r\n            className=\"border p-2 rounded-lg\"\r\n          >\r\n            <option value=\"\">-- Select Client --</option>\r\n            {clients.map((client) => (\r\n              <option key={client.id} value={client.id}>\r\n                {client.id}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {selectedClient && (\r\n          <div>\r\n            <label className=\"block text-gray-700 mb-1\">Select Site(s):</label>\r\n            <FormControl size=\"small\" sx={{ minWidth: 200 }}>\r\n              <Select\r\n                multiple\r\n                value={selectedSites}\r\n                onChange={(e) => {\r\n                  const {\r\n                    target: { value },\r\n                  } = e;\r\n                  setSelectedSites(typeof value === \"string\" ? value.split(\",\") : value);\r\n                }}\r\n                renderValue={(selected) => (selected.length > 0 ? selected.join(\", \") : \"-- Select Sites --\")}\r\n              >\r\n                {sites.map((site) => (\r\n                  <MenuItem key={site} value={site}>\r\n                    <Checkbox checked={selectedSites.includes(site)} />\r\n                    <ListItemText primary={site} />\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {selectedClient && selectedSites.length > 0 && (\r\n        <>\r\n          <div className=\"flex justify-between items-center mb-6\">\r\n            <h2 className=\"text-2xl font-bold text-gray-800\">\r\n              Robots at <span className=\"text-blue-700\">{selectedSites.join(\", \")}</span>\r\n            </h2>\r\n            {isAdmin && (\r\n              <button\r\n                onClick={handleAddRBT}\r\n                className=\"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-lg shadow\"\r\n              >\r\n                ➕ Add RBT\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          {loading ? (\r\n            <p className=\"text-blue-500 animate-pulse font-medium\">Loading RBTs...</p>\r\n          ) : rbtList.length === 0 ? (\r\n            <div className=\"text-gray-500 italic text-lg\">No robots found.</div>\r\n          ) : (\r\n            <RBTDataGrid\r\n              client={selectedClient}\r\n              sites={selectedSites}\r\n              rbts={rbtList}\r\n              onDelete={handleDeleteRBT}\r\n              onTriggerPartIssue={(rbtId, parts) => {\r\n                setSelectedRBT(rbtId);\r\n                setPartIssues(parts || defaultPartIssues);\r\n              }}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {selectedRBT && (\r\n        <PartIssueSection\r\n          client={selectedClient}\r\n          sites={selectedSites}\r\n          rbtId={selectedRBT}\r\n          rbt={rbtList.find((rbt) => rbt.rbt_id === selectedRBT) || {}}\r\n          onPartIssueChange={(parts) => setPartIssues(parts)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}