{"ast":null,"code":"import React from\"react\";import{BrowserRouter as Router,Routes,Route,useNavigate,Navigate}from\"react-router-dom\";import{Toaster}from\"react-hot-toast\";import{useAuthState}from\"react-firebase-hooks/auth\";import Login from\"./pages/Login\";import Signup from\"./pages/Signup\";import Dashboard from\"./pages/Dashboard\";import Logs from\"./pages/Logs\";import{auth}from\"./firebase\";import ManageUsers from\"./pages/ManageUsers\";import OverallDashboard from\"./pages/OverallDashboard\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Welcome,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/logs\",element:/*#__PURE__*/_jsx(AdminOnly,{children:/*#__PURE__*/_jsx(Logs,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/manage-users\",element:/*#__PURE__*/_jsx(ManageUsers,{})}),/*#__PURE__*/_jsx(Route,{path:\"/overall-dashboard\",element:/*#__PURE__*/_jsx(OverallDashboard,{})})]}),/*#__PURE__*/_jsx(Toaster,{position:\"top-center\"})]});}function Welcome(){const navigate=useNavigate();return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-xl rounded-2xl p-8 max-w-md w-full text-center animate-fade-in\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://brightbots.in/img/Brightbots-logo.png\",alt:\"BrightBots Logo\",className:\"h-20 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4 text-gray-800\",children:\"Welcome to BrightBots RBT Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"Manage all your site robots in one place.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/login\"),className:\"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-lg transition duration-200\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4 text-sm text-gray-500\",children:[\"Don't have an account?\",\" \",/*#__PURE__*/_jsx(\"span\",{onClick:()=>navigate(\"/signup\"),className:\"text-blue-600 cursor-pointer hover:underline\",children:\"Sign up\"})]})]})});}// ✅ Admin-only wrapper using inline logic\nfunction AdminOnly(_ref){var _user$email;let{children}=_ref;const[user,loading]=useAuthState(auth);if(loading)return null;const isAdmin=user===null||user===void 0?void 0:(_user$email=user.email)===null||_user$email===void 0?void 0:_user$email.endsWith(\"@brightbots.in\");if(!user||!user.emailVerified||!isAdmin){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return children;}","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","useNavigate","Navigate","Toaster","useAuthState","Login","Signup","Dashboard","Logs","auth","ManageUsers","OverallDashboard","jsx","_jsx","jsxs","_jsxs","App","children","path","element","Welcome","AdminOnly","position","navigate","className","src","alt","onClick","_ref","_user$email","user","loading","isAdmin","email","endsWith","emailVerified","to","replace"],"sources":["C:/Users/mis/rbt-dashboard/src/App.js"],"sourcesContent":["import React from \"react\";\r\nimport { BrowserRouter as Router, Routes, Route, useNavigate, Navigate } from \"react-router-dom\";\r\nimport { Toaster } from \"react-hot-toast\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport Login from \"./pages/Login\";\r\nimport Signup from \"./pages/Signup\";\r\nimport Dashboard from \"./pages/Dashboard\";\r\nimport Logs from \"./pages/Logs\";\r\nimport { auth } from \"./firebase\";\r\nimport ManageUsers from \"./pages/ManageUsers\";\r\nimport OverallDashboard from \"./pages/OverallDashboard\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Welcome />} />\r\n        <Route path=\"/login\" element={<Login />} />\r\n        <Route path=\"/signup\" element={<Signup />} />\r\n        <Route path=\"/dashboard\" element={<Dashboard />} />\r\n        <Route path=\"/logs\" element={<AdminOnly><Logs /></AdminOnly>} />\r\n        <Route path=\"/manage-users\" element={<ManageUsers />} />\r\n        <Route path=\"/overall-dashboard\" element={<OverallDashboard />} />\r\n      </Routes>\r\n      <Toaster position=\"top-center\" />\r\n    </Router>\r\n  );\r\n}\r\n\r\nfunction Welcome() {\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-4\">\r\n      <div className=\"bg-white shadow-xl rounded-2xl p-8 max-w-md w-full text-center animate-fade-in\">\r\n        <img\r\n          src=\"https://brightbots.in/img/Brightbots-logo.png\"\r\n          alt=\"BrightBots Logo\"\r\n          className=\"h-20 mx-auto mb-4\"\r\n        />\r\n        <h1 className=\"text-2xl font-bold mb-4 text-gray-800\">Welcome to BrightBots RBT Dashboard</h1>\r\n        <p className=\"text-gray-600 mb-6\">Manage all your site robots in one place.</p>\r\n        <button\r\n          onClick={() => navigate(\"/login\")}\r\n          className=\"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-lg transition duration-200\"\r\n        >\r\n          Login\r\n        </button>\r\n        <p className=\"mt-4 text-sm text-gray-500\">\r\n          Don't have an account?{\" \"}\r\n          <span\r\n            onClick={() => navigate(\"/signup\")}\r\n            className=\"text-blue-600 cursor-pointer hover:underline\"\r\n          >\r\n            Sign up\r\n          </span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// ✅ Admin-only wrapper using inline logic\r\nfunction AdminOnly({ children }) {\r\n  const [user, loading] = useAuthState(auth);\r\n\r\n  if (loading) return null;\r\n\r\n  const isAdmin = user?.email?.endsWith(\"@brightbots.in\");\r\n\r\n  if (!user || !user.emailVerified || !isAdmin) {\r\n    return <Navigate to=\"/dashboard\" replace />;\r\n  }\r\n\r\n  return children;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}